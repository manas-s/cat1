@model IEnumerable<Corevo.eContracts365.TableEntities.ContractFieldsEntity>
@using Corevo.eContracts365.General
@{
    ViewBag.Title = "Contract Record Type Metadata";
    Layout = "~/Views/Shared/_Layout_Settings.cshtml";
}
<link href="~/Content/jquery.contextMenu.css" rel="stylesheet" type="text/css" />
<link href="~/Content/confirm.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="~/Scripts/jquery.tablednd.0.7.min.js"></script>
<script type="text/javascript">
    function getParameterByName(name) {
        name = name.replace(/[\[]/, "\\[").replace(/[\]]/, "\\]");
        var regex = new RegExp("[\\?&]" + name + "=([^&#]*)"),
            results = regex.exec(location.search);
        return results == null ? "" : decodeURIComponent(results[1].replace(/\+/g, " "));
    }
    $(document).ready(function () {
        $(".contractTypeTitle").text(getParameterByName('contracttypetitle'));
        $("#contractTypeID").text(getParameterByName('contracttypeid'));
    });

</script>
<span id="contractTypeID" style="display:none;"></span>
<table class="width100">
    <tr>
        <td class="pageheading"><h4><span class="contractTypeTitle"></span></h4></td>
        <td class="pageheading padding_right_20px" align="right">
            <input id="btnSaveFieldOrder" type="button" value="Save Order" class="f_button_green_small clcustomenable" />
            <input id="btnNewGroup" type="button" value="Create New Group" class="f_button_green_small clcustomenable" />
            <input id="btnNewField" type="button" value="Create New Field" class="f_button_green_small clcustomenable" />
        </td>
    </tr>
</table>
<br />
<div class="width95_a">@*Bug id: eO37586*@
    <div style="float:left; width:63%;">
        <p style="background-color:#59a1d5; color:#ffffff"><span class="contractTypeTitle"></span> Field Groups and Selected Fields</p>
        <div class="clcustomconfiguare" style="display:none;float: left">
            <div id="dvcustomenabled" class="switch switch_disable enabled_slider disbleswitch switchSet" onclick="customMetadataToggle(this)" style=" float: right;">
                <div class="Toggle"></div>
                <span class="switch_enable">ON</span>
                <span class="switch_disable">OFF</span>
                <input id="AlertMile" class="switch_val" value="No" type="hidden">
            </div>
            @*<div class="switch switch_enable enabled_slider switchSet">
                <div class="Toggle" id="Conditional Workflow Routing" ></div>
                <span class="switch_enable">ON</span>
                <span class="switch_disable">OFF</span>
            </div>*@
            <div class="float_left" style="text-align: right;float: right!important;display: inline-block;margin: 4px 10px;">
                <span class="switch_lefttext">Custom Metadata Enable for this Contract Record Type?</span>
            </div>
        </div>
        <table id="tblMetadata" class="width100">
            @{
                int counter1 = 1;
                int  count1=ViewBag.GroupOrderCount;
                foreach (string name in ViewBag.GroupNames)
                {
                    <tr id="GP_@counter1.ToString()">
                        <td id="@name">
                            @Html.Action("ContractsFieldsinGroupMetadata", "Settings", new { fieldGroup = @name, index = @counter1, count = @count1 })
                        </td>
                    </tr>
                    counter1++;
                }
            }
        </table>

    </div>
    <div class="available_fields">
        <p style="background-color:#59a1d5; color:#ffffff" class="clcustomenable">Available / Unselected Fields</p>
        <div style="margin-bottom: 10px; cursor:pointer; clear:both; border-bottom: 1px solid #b1b1b1; overflow: hidden;" class="clcustomenable" onclick="basicfields()">
            <span style="font-weight: 500;font-size: 16px;color: #6b6b6b;float: left; margin-bottom: 10px; ">Identifiers</span>
            <img src="../Content/Images/i-admin.png" style="float: left; margin-top:5px;margin-left: 5px;" title="These fields can be added to the Contract Record Type and the field display name can be edited." />
            <img src="../Content/Images/e-close.png" title="Collapse" id="imgbasicfields" style="float: right; margin-top:5px;">
        </div>
        <table class="yui-grid width100" style="margin-bottom: 10px;" id="basicfields">
            @foreach (var item in Model)
            {
                if (
                    //Basic / Identifiers
                        item.FieldName == "Project" || item.FieldName == "Description" || item.FieldName == "ContractNumber" || item.FieldName == "ContractClass" || item.FieldName == "Status")
                {
                    do
                    {
                        item.FieldName = item.FieldName.Replace("&amp;", "&");
                    } while (item.FieldName.IndexOf("&amp;") > -1);
                    do
                    {
                        item.FieldDisplayName = item.FieldDisplayName.Replace("&amp;", "&");
                    } while (item.FieldDisplayName.IndexOf("&amp;") > -1);
                    <tr id="row" style="border-bottom: 1px dotted #eeeaea; background-color: #D9D9D9; ">
                        <td id="ContractFieldId" style="display:none;">@Html.DisplayFor(modelItem => item.RowKey)</td>
                        <td id="FieldDisplayName" style="display:none;">@Html.DisplayFor(modelItem => item.FieldDisplayName)</td>
                        <td id="FieldName" style="display:none;">@Html.DisplayFor(modelItem => item.FieldName)</td>
                        <td id="FieldType" style="display:none;">@Html.DisplayFor(modelItem => item.FieldType)</td>
                        <td id="CustomFieldsGroupName" style="display:none;">@Html.DisplayFor(modelItem => item.CustomFieldsGroupName)</td>
                        <td>
                            <span style="padding: 5px 5px 5px 5px;display: block;" title="@Html.DisplayFor(modelItem => item.Description)"> @Html.DisplayFor(modelItem => item.FieldDisplayName)</span>
                        </td>
                        <td id="FieldTypeGroup" style="display:none;">Basic</td>
                        <td class="openmenuavail" style="float:right;margin-right: 5px;">
                            <img src="../Content/Images/context_Menu.png" alt="Open Menu" title="Open Menu" />
                        </td>
                    </tr>
                }

            }

        </table>

        <div style="margin-bottom: 10px; cursor:pointer; clear:both; border-bottom: 1px solid #b1b1b1; overflow: hidden;"  onclick="contractingpartiesfields()" class="clcustomenable">
            <span style="font-weight: 500;font-size: 16px;color: #6b6b6b;float: left; margin-bottom: 10px; ">Contracting Parties</span>
            <img src="../Content/Images/i-admin.png" style="float: left; margin-top:5px;margin-left: 5px;" title="These fields can be added to the Contract Record Type and the field display name can be edited." />
            <img src="../Content/Images/e-close.png" title="Collapse" id="imgcontractingpartiesfields" style="float: right; margin-top:5px;">
        </div>
        <table class="yui-grid width100" style="margin-bottom: 10px;" id="contractingpartiesfields">
            @foreach (var item in Model)
            {
                if (
                    //Contracting Parties
                        item.FieldName == "LegalEntity" || item.FieldName == "Counterparty" || item.FieldName == "CompanyProfile")
                {
                    do
                    {
                        item.FieldName = item.FieldName.Replace("&amp;", "&");
                    } while (item.FieldName.IndexOf("&amp;") > -1);
                    do
                    {
                        item.FieldDisplayName = item.FieldDisplayName.Replace("&amp;", "&");
                    } while (item.FieldDisplayName.IndexOf("&amp;") > -1);
                    <tr id="row" style="border-bottom: 1px dotted #eeeaea; background-color: #D9D9D9; ">
                        <td id="ContractFieldId" style="display:none;">@Html.DisplayFor(modelItem => item.RowKey)</td>
                        <td id="FieldDisplayName" style="display:none;">@Html.DisplayFor(modelItem => item.FieldDisplayName)</td>
                        <td id="FieldName" style="display:none;">@Html.DisplayFor(modelItem => item.FieldName)</td>
                        <td id="FieldType" style="display:none;">@Html.DisplayFor(modelItem => item.FieldType)</td>
                        <td id="CustomFieldsGroupName" style="display:none;">@Html.DisplayFor(modelItem => item.CustomFieldsGroupName)</td>
                        <td>
                            <span style="padding: 5px 5px 5px 5px;display: block;" title="@Html.DisplayFor(modelItem => item.Description)"> @Html.DisplayFor(modelItem => item.FieldDisplayName)</span>
                        </td>
                        <td id="FieldTypeGroup" style="display:none;">ContractingParties</td>
                        <td class="openmenuavail" style="float:right;margin-right: 5px;">
                            <img src="../Content/Images/context_Menu.png" alt="Open Menu" title="Open Menu" />
                        </td>
                    </tr>
                }

            }

        </table>

        <div style="margin-bottom: 10px; cursor:pointer; clear:both; border-bottom: 1px solid #b1b1b1; overflow: hidden;" onclick="primarydocumentfields()" class="clcustomenable">
            <span style="font-weight: 500;font-size: 16px;color: #6b6b6b;float: left; margin-bottom: 10px; ">Primary Contract Document</span>
            <img src="../Content/Images/i-admin.png" style="float: left; margin-top:5px;margin-left: 5px;" title="These fields can be added to the Contract Record Type and the field display name can be edited." />
            <img src="../Content/Images/e-close.png" title="Collapse" id="imgprimarydocumentfields" style="float: right; margin-top:5px;">
        </div>
        <table class="yui-grid width100" style="margin-bottom: 10px;" id="primarydocumentfields">
            @foreach (var item in Model)
            {
                if (
                    //Primary Contract Document Fields
                       item.FieldName == "OriginatingParty" || item.FieldName == "IsCompanyTemplate" || item.FieldName == "AreasofModification" || item.FieldName == "TemplateModificationNotes" || item.FieldName == "DocumentPhyicalLocation")
                {
                    do
                    {
                        item.FieldName = item.FieldName.Replace("&amp;", "&");
                    } while (item.FieldName.IndexOf("&amp;") > -1);
                    do
                    {
                        item.FieldDisplayName = item.FieldDisplayName.Replace("&amp;", "&");
                    } while (item.FieldDisplayName.IndexOf("&amp;") > -1);
                    <tr id="row" style="border-bottom: 1px dotted #eeeaea; background-color: #D9D9D9; ">
                        <td id="ContractFieldId" style="display:none;">@Html.DisplayFor(modelItem => item.RowKey)</td>
                        <td id="FieldDisplayName" style="display:none;">@Html.DisplayFor(modelItem => item.FieldDisplayName)</td>
                        <td id="FieldName" style="display:none;">@Html.DisplayFor(modelItem => item.FieldName)</td>
                        <td id="FieldType" style="display:none;">@Html.DisplayFor(modelItem => item.FieldType)</td>
                        <td id="CustomFieldsGroupName" style="display:none;">@Html.DisplayFor(modelItem => item.CustomFieldsGroupName)</td>
                        <td>
                            <span style="padding: 5px 5px 5px 5px;display: block;" title="@Html.DisplayFor(modelItem => item.Description)"> @Html.DisplayFor(modelItem => item.FieldDisplayName)</span>
                        </td>
                        <td id="FieldTypeGroup" style="display:none;">PrimaryContractDocument</td>
                        <td class="openmenuavail" style="float:right;margin-right: 5px;">
                            <img src="../Content/Images/context_Menu.png" alt="Open Menu" title="Open Menu" />
                        </td>
                    </tr>
                }

            }

        </table>

        <div style="margin-bottom: 10px; cursor:pointer; clear:both; border-bottom: 1px solid #b1b1b1; overflow: hidden;" onclick="contracttermfields()" class="clcustomenable">
            <span style="font-weight: 500;font-size: 16px;color: #6b6b6b;float: left; margin-bottom: 10px; ">Contract Term (Timelines)</span>
            <img src="../Content/Images/i-admin.png" style="float: left; margin-top:5px;margin-left: 5px;" title="These fields can be added to the Contract Record Type and the field display name can be edited." />
            <img src="../Content/Images/e-close.png" title="Collapse" id="imgcontracttermfields" style="float: right; margin-top:5px;">
        </div>
        <table class="yui-grid width100" style="margin-bottom: 10px;" id="contracttermfields">
            @foreach (var item in Model)
            {
                if (
                    //Contract Term Fields
                        item.FieldName == "ContractTermType" || item.FieldName == "ContractTermNotes" || item.FieldName == "StartDate" || item.FieldName == "TermEndDate"
                        || item.FieldName == "RequiresAuth" || item.FieldName == "RenewalConfirmParticipants"
                        || item.FieldName == "CounterpartyNotices" || item.FieldName == "CounterpartyNoticesRenewal" || item.FieldName == "CounterpartyNoticesCancel" || item.FieldName == "NextEvaluationDate" || item.FieldName == "EndDate")
                {
                    do
                    {
                        item.FieldName = item.FieldName.Replace("&amp;", "&");
                    } while (item.FieldName.IndexOf("&amp;") > -1);
                    do
                    {
                        item.FieldDisplayName = item.FieldDisplayName.Replace("&amp;", "&");
                    } while (item.FieldDisplayName.IndexOf("&amp;") > -1);
                    <tr id="row" style="border-bottom: 1px dotted #eeeaea; background-color: #D9D9D9; ">
                        <td id="ContractFieldId" style="display:none;">@Html.DisplayFor(modelItem => item.RowKey)</td>
                        <td id="FieldDisplayName" style="display:none;">@Html.DisplayFor(modelItem => item.FieldDisplayName)</td>
                        <td id="FieldName" style="display:none;">@Html.DisplayFor(modelItem => item.FieldName)</td>
                        <td id="FieldType" style="display:none;">@Html.DisplayFor(modelItem => item.FieldType)</td>
                        <td id="CustomFieldsGroupName" style="display:none;">@Html.DisplayFor(modelItem => item.CustomFieldsGroupName)</td>
                        <td>
                            <span style="padding: 5px 5px 5px 5px;display: block;" title="@Html.DisplayFor(modelItem => item.Description)"> @Html.DisplayFor(modelItem => item.FieldDisplayName)</span>
                        </td>
                        <td id="FieldTypeGroup" style="display:none;">ContractTerm</td>
                        <td class="openmenuavail" style="float:right;margin-right: 5px;">
                            <img src="../Content/Images/context_Menu.png" alt="Open Menu" title="Open Menu" />
                        </td>
                    </tr>
                }

            }

        </table>

        <div style="margin-bottom: 10px; cursor:pointer; clear:both; border-bottom: 1px solid #b1b1b1; overflow: hidden;" onclick="peopleandpermissionfields()" class="clcustomenable">
            <span style="font-weight: 500;font-size: 16px;color: #6b6b6b;float: left; margin-bottom: 10px; ">People & Permissions</span>
            <img src="../Content/Images/i-admin.png" style="float: left; margin-top:5px;margin-left: 5px;" title="These fields can be added to the Contract Record Type and the field display name can be edited." />
            <img src="../Content/Images/e-close.png" title="Collapse" id="imgpeopleandpermissionfields" style="float: right; margin-top:5px;">
        </div>
        <table class="yui-grid width100" style="margin-bottom: 10px;" id="peopleandpermissionfields">
            @foreach (var item in Model)
            {
                if (
                    //People & Permissions Fields
                        item.FieldName == "ContractManagers" || item.FieldName == "Approvers" || item.FieldName == "Reviewers"
                        || item.FieldName == "PrimaryAuthors" || item.FieldName == "PrimaryNegotiators" || item.FieldName == "SharedwithInternal"
                        || item.FieldName == "RequestSubmittedby" || item.FieldName == "Requestor" || item.FieldName == "CustomPermission")
                {
                    do
                    {
                        item.FieldName = item.FieldName.Replace("&amp;", "&");
                    } while (item.FieldName.IndexOf("&amp;") > -1);
                    do
                    {
                        item.FieldDisplayName = item.FieldDisplayName.Replace("&amp;", "&");
                    } while (item.FieldDisplayName.IndexOf("&amp;") > -1);
                    <tr id="row" style="border-bottom: 1px dotted #eeeaea; background-color: #D9D9D9; ">
                        <td id="ContractFieldId" style="display:none;">@Html.DisplayFor(modelItem => item.RowKey)</td>
                        <td id="FieldDisplayName" style="display:none;">@Html.DisplayFor(modelItem => item.FieldDisplayName)</td>
                        <td id="FieldName" style="display:none;">@Html.DisplayFor(modelItem => item.FieldName)</td>
                        <td id="FieldType" style="display:none;">@Html.DisplayFor(modelItem => item.FieldType)</td>
                        <td id="CustomFieldsGroupName" style="display:none;">@Html.DisplayFor(modelItem => item.CustomFieldsGroupName)</td>
                        <td>
                            <span style="padding: 5px 5px 5px 5px;display: block;" title="@Html.DisplayFor(modelItem => item.Description)"> @Html.DisplayFor(modelItem => item.FieldDisplayName)</span>
                        </td>
                        <td id="FieldTypeGroup" style="display:none;">PeoplePermissions</td>
                        <td class="openmenuavail" style="float:right;margin-right: 5px;">
                            <img src="../Content/Images/context_Menu.png" alt="Open Menu" title="Open Menu" />
                        </td>
                    </tr>
                }

            }

        </table>

        <div style="margin-bottom: 10px; cursor:pointer; clear:both; border-bottom: 1px solid #b1b1b1; overflow: hidden;" onclick="relatedrequestfields()" class="clcustomenable">
            <span style="font-weight: 500;font-size: 16px;color: #6b6b6b;float: left; margin-bottom: 10px; ">Related Request / Contract</span>
            <img src="../Content/Images/i-admin.png" style="float: left; margin-top:5px;margin-left: 5px;" title="These fields can be added to the Contract Record Type and the field display name can be edited." />
            <img src="../Content/Images/e-close.png" title="Collapse" id="imgrelatedrequestfields" style="float: right; margin-top:5px;">
        </div>
        <table class="yui-grid width100" style="margin-bottom: 10px;" id="relatedrequestfields">
            @foreach (var item in Model)
            {
                if (
                    //Related Request
                        item.FieldName == "RelatedRequests" || item.FieldName == "RelatedContracts")
                {
                    do
                    {
                        item.FieldName = item.FieldName.Replace("&amp;", "&");
                    } while (item.FieldName.IndexOf("&amp;") > -1);
                    do
                    {
                        item.FieldDisplayName = item.FieldDisplayName.Replace("&amp;", "&");
                    } while (item.FieldDisplayName.IndexOf("&amp;") > -1);
                    <tr id="row" style="border-bottom: 1px dotted #eeeaea; background-color: #D9D9D9; ">
                        <td id="ContractFieldId" style="display:none;">@Html.DisplayFor(modelItem => item.RowKey)</td>
                        <td id="FieldDisplayName" style="display:none;">@Html.DisplayFor(modelItem => item.FieldDisplayName)</td>
                        <td id="FieldName" style="display:none;">@Html.DisplayFor(modelItem => item.FieldName)</td>
                        <td id="FieldType" style="display:none;">@Html.DisplayFor(modelItem => item.FieldType)</td>
                        <td id="CustomFieldsGroupName" style="display:none;">@Html.DisplayFor(modelItem => item.CustomFieldsGroupName)</td>
                        <td>
                            <span style="padding: 5px 5px 5px 5px;display: block;" title="@Html.DisplayFor(modelItem => item.Description)"> @Html.DisplayFor(modelItem => item.FieldDisplayName)</span>
                        </td>
                        <td id="FieldTypeGroup" style="display:none;">RelatedRequest</td>
                        <td class="openmenuavail" style="float:right;margin-right: 5px;">
                            <img src="../Content/Images/context_Menu.png" alt="Open Menu" title="Open Menu" />
                        </td>
                    </tr>
                }

            }

        </table>

        <div style="margin-bottom: 10px; cursor:pointer; clear:both; border-bottom: 1px solid #b1b1b1; overflow: hidden;" onclick="signaturerelatedfields()" class="clcustomenable">
            <span style="font-weight: 500;font-size: 16px;color: #6b6b6b;float: left; margin-bottom: 10px; ">Signature Related</span>
            <img src="../Content/Images/i-admin.png" style="float: left; margin-top:5px;margin-left: 5px;" title="These fields can be added to the Contract Record Type and the field display name can be edited." />
            <img src="../Content/Images/e-close.png" title="Collapse" id="imgsignaturerelatedfields" style="float: right; margin-top:5px;">
        </div>
        <table class="yui-grid width100" style="margin-bottom: 10px;" id="signaturerelatedfields">
            @foreach (var item in Model)
            {
                if (
                    //Signature Related
                        item.FieldName == "Signees" || item.FieldName == "ExternalSignees" || item.FieldName == "LastSignatureDate"
                        || item.FieldName == "SignatureStatus" || item.FieldName == "CounterpartySignatureInformation" || item.FieldName == "CompanySignatureInformation"
                        || item.FieldName == "WitnessSignatureInformation")
                {
                    do
                    {
                        item.FieldName = item.FieldName.Replace("&amp;", "&");
                    } while (item.FieldName.IndexOf("&amp;") > -1);
                    do
                    {
                        item.FieldDisplayName = item.FieldDisplayName.Replace("&amp;", "&");
                    } while (item.FieldDisplayName.IndexOf("&amp;") > -1);
                    <tr id="row" style="border-bottom: 1px dotted #eeeaea; background-color: #D9D9D9; ">
                        <td id="ContractFieldId" style="display:none;">@Html.DisplayFor(modelItem => item.RowKey)</td>
                        <td id="FieldDisplayName" style="display:none;">@Html.DisplayFor(modelItem => item.FieldDisplayName)</td>
                        <td id="FieldName" style="display:none;">@Html.DisplayFor(modelItem => item.FieldName)</td>
                        <td id="FieldType" style="display:none;">@Html.DisplayFor(modelItem => item.FieldType)</td>
                        <td id="CustomFieldsGroupName" style="display:none;">@Html.DisplayFor(modelItem => item.CustomFieldsGroupName)</td>
                        <td>
                            <span style="padding: 5px 5px 5px 5px;display: block;" title="@Html.DisplayFor(modelItem => item.Description)"> @Html.DisplayFor(modelItem => item.FieldDisplayName)</span>
                        </td>
                        <td id="FieldTypeGroup" style="display:none;">SignatureRelated</td>
                        <td class="openmenuavail" style="float:right;margin-right: 5px;">
                            <img src="../Content/Images/context_Menu.png" alt="Open Menu" title="Open Menu" />
                        </td>
                    </tr>
                }

            }

        </table>

        <div style="margin-bottom: 10px; cursor:pointer; clear:both; border-bottom: 1px solid #b1b1b1; overflow: hidden;" onclick="formalnoticefields()" class="clcustomenable">
            <span style="font-weight: 500;font-size: 16px;color: #6b6b6b;float: left; margin-bottom: 10px; ">Notice Related</span>
            <img src="../Content/Images/i-admin.png" style="float: left; margin-top:5px;margin-left: 5px;" title="These fields can be added to the Contract Record Type and the field display name can be edited." />
            <img src="../Content/Images/e-close.png" title="Collapse" id="imgformalnoticefields" style="float: right; margin-top:5px;">
        </div>
        <table class="yui-grid width100" style="margin-bottom: 10px;" id="formalnoticefields">
            @foreach (var item in Model)
            {
                if (
                    //Formal Notices & Representatives Fields
                        item.FieldName == "SendNoticesfor" || item.FieldName == "AddressforNoticeCounterparty" || item.FieldName == "LegalNoticeUserCounterparty"
                        || item.FieldName == "LegalNoticeEmailIDCounterparty" || item.FieldName == "LegalNoticeFacsimilieCounterparty" || item.FieldName == "AddressforNoticeCompany"
                        || item.FieldName == "LegalNoticeUserCompany" || item.FieldName == "LegalNoticeEmailIDCompany" || item.FieldName == "LegalNoticeFacsimilieCompany")
                {
                    do
                    {
                        item.FieldName = item.FieldName.Replace("&amp;", "&");
                    } while (item.FieldName.IndexOf("&amp;") > -1);
                    do
                    {
                        item.FieldDisplayName = item.FieldDisplayName.Replace("&amp;", "&");
                    } while (item.FieldDisplayName.IndexOf("&amp;") > -1);
                    <tr id="row" style="border-bottom: 1px dotted #eeeaea; background-color: #D9D9D9; ">
                        <td id="ContractFieldId" style="display:none;">@Html.DisplayFor(modelItem => item.RowKey)</td>
                        <td id="FieldDisplayName" style="display:none;">@Html.DisplayFor(modelItem => item.FieldDisplayName)</td>
                        <td id="FieldName" style="display:none;">@Html.DisplayFor(modelItem => item.FieldName)</td>
                        <td id="FieldType" style="display:none;">@Html.DisplayFor(modelItem => item.FieldType)</td>
                        <td id="CustomFieldsGroupName" style="display:none;">@Html.DisplayFor(modelItem => item.CustomFieldsGroupName)</td>
                        <td>
                            <span style="padding: 5px 5px 5px 5px;display: block;" title="@Html.DisplayFor(modelItem => item.Description)"> @Html.DisplayFor(modelItem => item.FieldDisplayName)</span>
                        </td>
                        <td id="FieldTypeGroup" style="display:none;">FormalNotice</td>
                        <td class="openmenuavail" style="float:right;margin-right: 5px;">
                            <img src="../Content/Images/context_Menu.png" alt="Open Menu" title="Open Menu" />
                        </td>
                    </tr>
                }

            }

        </table>

        <div style="margin-bottom: 10px; cursor:pointer; clear:both; border-bottom: 1px solid #b1b1b1; overflow: hidden;" onclick="financialsfields()" class="clcustomenable">
            <span style="font-weight: 500;font-size: 16px;color: #6b6b6b;float: left; margin-bottom: 10px; ">Financials</span>
            <img src="../Content/Images/i-admin.png" style="float: left; margin-top:5px;margin-left: 5px;" title="These fields can be added to the Contract Record Type and the field display name can be edited." />
            <img src="../Content/Images/e-close.png" title="Collapse" id="imgfinancialsfields" style="float: right; margin-top:5px;">
        </div>
        <table class="yui-grid width100" style="margin-bottom: 10px;" id="financialsfields">
            @foreach (var item in Model)
            {
                if (
                        //Financials Fields
                        item.FieldName == "ContractPricingType" || item.FieldName == "BillingFrequency" || item.FieldName == "PaymentType"
                        //|| item.FieldName == "PaymentMethod" || item.FieldName == "ContractCurrency" || item.FieldName == "ContractValue" || item.CustomFieldsGroupName == "FinancialCustomFields"
                        || item.FieldName == "PaymentMethod" || item.FieldName == "ContractCurrency" || item.FieldName == "ContractValue"
                        )
                {
                    do
                    {
                        item.FieldName = item.FieldName.Replace("&amp;", "&");
                    } while (item.FieldName.IndexOf("&amp;") > -1);
                    do
                    {
                        item.FieldDisplayName = item.FieldDisplayName.Replace("&amp;", "&");
                    } while (item.FieldDisplayName.IndexOf("&amp;") > -1);
                    <tr id="row" style="border-bottom: 1px dotted #eeeaea; background-color: #D9D9D9; ">
                        <td id="ContractFieldId" style="display:none;">@Html.DisplayFor(modelItem => item.RowKey)</td>
                        <td id="FieldDisplayName" style="display:none;">@Html.DisplayFor(modelItem => item.FieldDisplayName)</td>
                        <td id="FieldName" style="display:none;">@Html.DisplayFor(modelItem => item.FieldName)</td>
                        <td id="FieldType" style="display:none;">@Html.DisplayFor(modelItem => item.FieldType)</td>
                        <td id="CustomFieldsGroupName" style="display:none;">@Html.DisplayFor(modelItem => item.CustomFieldsGroupName)</td>
                        <td>
                            <span style="padding: 5px 5px 5px 5px;display: block;" title="@Html.DisplayFor(modelItem => item.Description)"> @Html.DisplayFor(modelItem => item.FieldDisplayName)</span>
                        </td>
                        <td id="FieldTypeGroup" style="display:none;">Financials</td>
                        <td class="openmenuavail" style="float:right;margin-right: 5px;">
                            <img src="../Content/Images/context_Menu.png" alt="Open Menu" title="Open Menu" />
                        </td>
                    </tr>
                }

            }

        </table>

        <div style="margin-bottom: 10px; cursor:pointer; clear:both; border-bottom: 1px solid #b1b1b1; overflow: hidden;" onclick="revenuerelatedfields()" class="clcustomenable">
            <span style="font-weight: 500;font-size: 16px;color: #6b6b6b;float: left; margin-bottom: 10px; ">Revenue Related</span>
            <img src="../Content/Images/i-admin.png" style="float: left; margin-top:5px;margin-left: 5px;" title="These fields can be added to the Contract Record Type and the field display name can be edited." />
            <img src="../Content/Images/e-close.png" title="Collapse" id="imgrevenuerelatedfields" style="float: right; margin-top:5px;">
        </div>
        <table class="yui-grid width100" style="margin-bottom: 10px;" id="revenuerelatedfields">
            @foreach (var item in Model)
            {
                if (
                    //Revenue Related Fields
                        item.FieldName == "ProductorServiceDescription" || item.FieldName == "EstimatedTotalRevenue" || item.FieldName == "EstimatedYearlyRevenue"
                        || item.FieldName == "RevenueMinimumCommitment" || item.FieldName == "RevenueBestCase" || item.FieldName == "OutstandingRevenue"
                        || item.FieldName == "RevenueTillDate" || item.FieldName == "TaxExempt")
                {
                    do
                    {
                        item.FieldName = item.FieldName.Replace("&amp;", "&");
                    } while (item.FieldName.IndexOf("&amp;") > -1);
                    do
                    {
                        item.FieldDisplayName = item.FieldDisplayName.Replace("&amp;", "&");
                    } while (item.FieldDisplayName.IndexOf("&amp;") > -1);
                    <tr id="row" style="border-bottom: 1px dotted #eeeaea; background-color: #D9D9D9; ">
                        <td id="ContractFieldId" style="display:none;">@Html.DisplayFor(modelItem => item.RowKey)</td>
                        <td id="FieldDisplayName" style="display:none;">@Html.DisplayFor(modelItem => item.FieldDisplayName)</td>
                        <td id="FieldName" style="display:none;">@Html.DisplayFor(modelItem => item.FieldName)</td>
                        <td id="FieldType" style="display:none;">@Html.DisplayFor(modelItem => item.FieldType)</td>
                        <td id="CustomFieldsGroupName" style="display:none;">@Html.DisplayFor(modelItem => item.CustomFieldsGroupName)</td>
                        <td>
                            <span style="padding: 5px 5px 5px 5px;display: block;" title="@Html.DisplayFor(modelItem => item.Description)"> @Html.DisplayFor(modelItem => item.FieldDisplayName)</span>
                        </td>
                        <td id="FieldTypeGroup" style="display:none;">RevenueRelated</td>
                        <td class="openmenuavail" style="float:right;margin-right: 5px;">
                            <img src="../Content/Images/context_Menu.png" alt="Open Menu" title="Open Menu" />
                        </td>
                    </tr>
                }

            }

        </table>


        <div style="margin-bottom: 10px; cursor:pointer; clear:both; border-bottom: 1px solid #b1b1b1; overflow: hidden;" onclick="procurementrelatedfields()" class="clcustomenable">
            <span style="font-weight: 500;font-size: 16px;color: #6b6b6b;float: left; margin-bottom: 10px; ">Procurement Related</span>
            <img src="../Content/Images/i-admin.png" style="float: left; margin-top:5px;margin-left: 5px;" title="These fields can be added to the Contract Record Type and the field display name can be edited." />
            <img src="../Content/Images/e-close.png" title="Collapse" id="imgprocurementrelatedfields" style="float: right; margin-top:5px;">
        </div>
        <table class="yui-grid width100" style="margin-bottom: 10px;" id="procurementrelatedfields">
            @foreach (var item in Model)
            {
                if (
                    //Procurement Related Fields
                        item.FieldName == "PurposeofProcurement" || item.FieldName == "ProcurementCategory" || item.FieldName == "SourceofFunds"
                        || item.FieldName == "EstimatedTotalSpend" || item.FieldName == "EstimatedYearlySpend" || item.FieldName == "MinimumSpendCommitment"
                        || item.FieldName == "OutstandingSpend" || item.FieldName == "SpendTillDate")
                {
                    do
                    {
                        item.FieldName = item.FieldName.Replace("&amp;", "&");
                    } while (item.FieldName.IndexOf("&amp;") > -1);
                    do
                    {
                        item.FieldDisplayName = item.FieldDisplayName.Replace("&amp;", "&");
                    } while (item.FieldDisplayName.IndexOf("&amp;") > -1);
                    <tr id="row" style="border-bottom: 1px dotted #eeeaea; background-color: #D9D9D9; ">
                        <td id="ContractFieldId" style="display:none;">@Html.DisplayFor(modelItem => item.RowKey)</td>
                        <td id="FieldDisplayName" style="display:none;">@Html.DisplayFor(modelItem => item.FieldDisplayName)</td>
                        <td id="FieldName" style="display:none;">@Html.DisplayFor(modelItem => item.FieldName)</td>
                        <td id="FieldType" style="display:none;">@Html.DisplayFor(modelItem => item.FieldType)</td>
                        <td id="CustomFieldsGroupName" style="display:none;">@Html.DisplayFor(modelItem => item.CustomFieldsGroupName)</td>
                        <td>
                            <span style="padding: 5px 5px 5px 5px;display: block;" title="@Html.DisplayFor(modelItem => item.Description)"> @Html.DisplayFor(modelItem => item.FieldDisplayName)</span>
                        </td>
                        <td id="FieldTypeGroup" style="display:none;">ProcurementRelated</td>
                        <td class="openmenuavail" style="float:right;margin-right: 5px;">
                            <img src="../Content/Images/context_Menu.png" alt="Open Menu" title="Open Menu" />
                        </td>
                    </tr>
                }

            }

        </table>
        <div style="margin-bottom: 10px; cursor:pointer; clear:both; border-bottom: 1px solid #b1b1b1; overflow: hidden;" onclick="disputesremediesfields()" class="clcustomenable">
            <span style="font-weight: 500;font-size: 16px;color: #6b6b6b;float: left; margin-bottom: 10px; ">Disputes & Remedies</span>
            <img src="../Content/Images/i-admin.png" style="float: left; margin-top:5px;margin-left: 5px;" title="These fields can be added to the Contract Record Type and the field display name can be edited." />
            <img src="../Content/Images/e-close.png" title="Collapse" id="imgdisputesremediesfields" style="float: right; margin-top:5px;">
        </div>
        <table class="yui-grid width100" style="margin-bottom: 10px;" id="disputesremediesfields">
            @foreach (var item in Model)
            {
                if (
                    //Disputes & Remedies Fields
                        item.FieldName == "GoverningLaw" || item.FieldName == "DurationforRemedy" || item.FieldName == "RemediesorDamages"
                        || item.FieldName == "ActiveDispute" || item.FieldName == "DisputeorRemedyNotes" || item.FieldName == "ArbirtrationNotes"
                       )
                {
                    do
                    {
                        item.FieldName = item.FieldName.Replace("&amp;", "&");
                    } while (item.FieldName.IndexOf("&amp;") > -1);
                    do
                    {
                        item.FieldDisplayName = item.FieldDisplayName.Replace("&amp;", "&");
                    } while (item.FieldDisplayName.IndexOf("&amp;") > -1);
                    
                    <tr id="row" style="border-bottom: 1px dotted #eeeaea; background-color: #D9D9D9; ">
                        <td id="ContractFieldId" style="display:none;">@Html.DisplayFor(modelItem => item.RowKey)</td>
                        <td id="FieldDisplayName" style="display:none;">@Html.DisplayFor(modelItem => item.FieldDisplayName)</td>
                        <td id="FieldName" style="display:none;">@Html.DisplayFor(modelItem => item.FieldName)</td>
                        <td id="FieldType" style="display:none;">@Html.DisplayFor(modelItem => item.FieldType)</td>
                        <td id="CustomFieldsGroupName" style="display:none;">@Html.DisplayFor(modelItem => item.CustomFieldsGroupName)</td>
                        <td>
                            <span style="padding: 5px 5px 5px 5px;display: block;" title="@Html.DisplayFor(modelItem => item.Description)"> @Html.DisplayFor(modelItem => item.FieldDisplayName)</span>
                        </td>
                        <td id="FieldTypeGroup" style="display:none;">DisputesRemedies</td>
                        <td class="openmenuavail" style="float:right;margin-right: 5px;">
                            <img src="../Content/Images/context_Menu.png" alt="Open Menu" title="Open Menu" />
                        </td>
                    </tr>
                }

            }

        </table>



        @*<div style="margin-bottom: 10px; cursor:pointer; clear:both; border-bottom: 1px solid #b1b1b1; overflow: hidden;" onclick="systemfields()">
            <span style="font-weight: 500;font-size: 16px;color: #6b6b6b;float: left; margin-bottom: 10px;">System Fields</span>
            <img src="../Content/Images/i-admin.png" style="float: left; margin-top:5px;margin-left: 5px;" title="These fields can be added to the Contract Record Type and the field display name can be edited." />
            <img src="../Content/Images/e-close.png" title="Collapse" id="imgsystemfields" style="float: right; margin-top:5px;">
        </div>
        <table class="yui-grid width100" style="margin-bottom: 10px;" id="systemfields">
            @foreach (var item in Model.OrderBy(r => r.FieldDisplayName))
            {
                if (
                    //System Fields
                        item.FieldName == "Project" || item.FieldName == "Description" || item.FieldName == "ContractNumber"
                        || item.FieldName == "Counterparty" || item.FieldName == "CompanyProfile" || item.FieldName == "OriginatingParty"
                        || item.FieldName == "StartDate" || item.FieldName == "RenewalDate"
                        || item.FieldName == "EndDate" || item.FieldName == "Status" || item.FieldName == "ContractManagers"
                        || item.FieldName == "Signees" || item.FieldName == "ExternalSignees" || item.FieldName == "ContractValue"
                        || item.FieldName == "ContractTermType" || item.FieldName == "ApprovedBy" || item.FieldName == "ReviewedBy"
                        || item.FieldName == "RelatedContracts" || item.FieldName == "RelatedRequests" || item.FieldName == "CustomPermission")
                {
                    do
                    {
                        item.FieldName = item.FieldName.Replace("&amp;", "&");
                    } while (item.FieldName.IndexOf("&amp;") > -1);
                    do
                    {
                        item.FieldDisplayName = item.FieldDisplayName.Replace("&amp;", "&");
                    } while (item.FieldDisplayName.IndexOf("&amp;") > -1);
                    <tr id="row" style="border-bottom: 1px dotted #eeeaea; background-color: #D9D9D9; ">
                        <td id="ContractFieldId" style="display:none;">@Html.DisplayFor(modelItem => item.RowKey)</td>
                        <td id="FieldDisplayName" style="display:none;">@Html.DisplayFor(modelItem => item.FieldDisplayName)</td>
                        <td>
                            <span style="padding: 5px 5px 5px 5px;display: block;"> @Html.DisplayFor(modelItem => item.FieldDisplayName)</span>
                        </td>
                        <td id="FieldTypeGroup" style="display:none;">System</td>
                        <td class="openmenuavail" style="float:right;margin-right: 5px;">
                            <img src="../Content/Images/context_Menu.png" alt="Open Menu" title="Open Menu" />
                        </td>
                    </tr>
                }
            }

        </table>
        <div style="margin-bottom: 10px; cursor:pointer; clear:both; border-bottom: 1px solid #b1b1b1; overflow: hidden;" onclick="standardfields()">
            <span style="font-weight: 500;font-size: 16px;color: #6b6b6b;float: left;margin-bottom: 10px;">Standard Fields</span>
            <img src="../Content/Images/i-admin.png" style="float: left; margin-top:5px;margin-left: 5px;" title="These fields can be added to the Contract Record Type and the field display name and field type can be edited." />
            <img src="../Content/Images/e-close.png" id="imgstandardfields" title="Collapse" style="float: right; margin-top:5px;">
        </div>
        <table class="yui-grid width100" style="margin-bottom: 10px;" id="standardfields">
            @foreach (var item in Model.OrderBy(r => r.FieldDisplayName))
            {
                if (
                    //Standard Fields
                         item.FieldName == "GoverningLaw" || item.FieldName == "LicenceType" || item.FieldName == "NumberofLicenses"
                        || item.FieldName == "BillingAmount" || item.FieldName == "BillingFrequency" || item.FieldName == "PaymentType"
                        || item.FieldName == "EventTitle" || item.FieldName == "EventLocation" || item.FieldName == "EventDate"
                        || item.FieldName == "DeliveryLocation" || item.FieldName == "DeliveryDate" || item.FieldName == "ContractPricingType"
                        || item.FieldName == "PlaceofPerformance" || item.FieldName == "DateofPerformance" || item.FieldName == "SummaryofServices"
                        || item.FieldName == "DocumentPhyicalLocation"
                        )
                {
                    do
                    {
                        item.FieldName = item.FieldName.Replace("&amp;", "&");
                    } while (item.FieldName.IndexOf("&amp;") > -1);
                    do
                    {
                        item.FieldDisplayName = item.FieldDisplayName.Replace("&amp;", "&");
                    } while (item.FieldDisplayName.IndexOf("&amp;") > -1);
                    <tr id="row" style="border-bottom: 1px dotted #eeeaea; background-color: #D9D9D9; ">
                        <td id="ContractFieldId" style="display:none;">@Html.DisplayFor(modelItem => item.RowKey)</td>
                        <td id="FieldDisplayName" style="display:none;">@Html.DisplayFor(modelItem => item.FieldDisplayName)</td>
                        <td>
                            <span style="padding: 5px 5px 5px 5px;display: block;"> @Html.DisplayFor(modelItem => item.FieldDisplayName)</span>
                        </td>
                        <td id="FieldTypeGroup" style="display:none;">Standard</td>
                        <td class="openmenuavail" style="float:right;margin-right: 5px;">
                            <img src="../Content/Images/context_Menu.png" alt="Open Menu" title="Open Menu" />
                        </td>
                    </tr>
                }
            }

        </table>*@


        <div style="margin-bottom: 10px; cursor:pointer; clear:both; border-bottom: 1px solid #b1b1b1; overflow: hidden;" onclick="customfields()" class="clcustomenable">
            <span style="font-weight: 500;font-size: 16px;color: #6b6b6b;float: left;margin-bottom: 10px;">Custom / User Created</span>
            <img src="../Content/Images/i-admin.png" style="float: left; margin-top:5px;margin-left: 5px;" title="These fields can be created, edited and deleted." />
            <img src="../Content/Images/e-close.png" id="imgcustomfields" title="Collapse" style="float: right; margin-top:5px;">
        </div>
        <table class="yui-grid width100" style="margin-bottom: 10px;" id="customfields">
            @foreach (var item in Model.OrderBy(r => r.FieldDisplayName))
            {
                if (

                            //Basic / Identifiers
                        item.FieldName == "Project" || item.FieldName == "Description" || item.FieldName == "ContractNumber" || item.FieldName == "ContractClass" || item.FieldName == "Status"
                    //Contracting Parties
                        || item.FieldName == "LegalEntity" || item.FieldName == "Counterparty" || item.FieldName == "CompanyProfile"
                    //Primary Contract Document Fields
                        || item.FieldName == "OriginatingParty" || item.FieldName == "IsCompanyTemplate" || item.FieldName == "AreasofModification"
                        || item.FieldName == "AreasofModification" || item.FieldName == "TemplateModificationNotes" || item.FieldName == "DocumentPhyicalLocation"
                    //Contract Term Fields
                        || item.FieldName == "ContractTermType" || item.FieldName == "ContractTermNotes" || item.FieldName == "StartDate" || item.FieldName == "TermEndDate"
                        || item.FieldName == "RequiresAuth" || item.FieldName == "RenewalConfirmParticipants"
                        || item.FieldName == "CounterpartyNotices" || item.FieldName == "CounterpartyNoticesRenewal" || item.FieldName == "CounterpartyNoticesCancel" || item.FieldName == "NextEvaluationDate" || item.FieldName == "EndDate"
                    //People & Permissions Fields
                        || item.FieldName == "ContractManagers" || item.FieldName == "Approvers" || item.FieldName == "Reviewers"
                        || item.FieldName == "PrimaryAuthors" || item.FieldName == "PrimaryNegotiators" || item.FieldName == "SharedwithInternal"
                        || item.FieldName == "RequestSubmittedby" || item.FieldName == "Requestor" || item.FieldName == "CustomPermission"
                    //Related Request
                        || item.FieldName == "RelatedRequests" || item.FieldName == "RelatedContracts"
                    //Signature Related
                        || item.FieldName == "Signees" || item.FieldName == "ExternalSignees" || item.FieldName == "LastSignatureDate"
                        || item.FieldName == "SignatureStatus" || item.FieldName == "CounterpartySignatureInformation" || item.FieldName == "CompanySignatureInformation"
                        || item.FieldName == "WitnessSignatureInformation"
                    //Formal Notices & Representatives Fields
                        || item.FieldName == "SendNoticesfor" || item.FieldName == "AddressforNoticeCounterparty" || item.FieldName == "LegalNoticeUserCounterparty"
                        || item.FieldName == "LegalNoticeEmailIDCounterparty" || item.FieldName == "LegalNoticeFacsimilieCounterparty" || item.FieldName == "AddressforNoticeCompany"
                        || item.FieldName == "LegalNoticeUserCompany" || item.FieldName == "LegalNoticeEmailIDCompany" || item.FieldName == "LegalNoticeFacsimilieCompany"
                    //Financials Fields
                        || item.FieldName == "ContractPricingType" || item.FieldName == "BillingFrequency" || item.FieldName == "PaymentType"
                        || item.FieldName == "PaymentMethod" || item.FieldName == "ContractCurrency" || item.FieldName == "ContractValue"
                    //Revenue Related Fields
                        || item.FieldName == "ProductorServiceDescription" || item.FieldName == "EstimatedTotalRevenue" || item.FieldName == "EstimatedYearlyRevenue"
                        || item.FieldName == "RevenueMinimumCommitment" || item.FieldName == "RevenueBestCase" || item.FieldName == "OutstandingRevenue"
                        || item.FieldName == "RevenueTillDate" || item.FieldName == "TaxExempt"

                     //Procurement Related Fields
                        || item.FieldName == "PurposeofProcurement" || item.FieldName == "ProcurementCategory" || item.FieldName == "SourceofFunds"
                        || item.FieldName == "EstimatedTotalSpend" || item.FieldName == "EstimatedYearlySpend" || item.FieldName == "MinimumSpendCommitment"
                        || item.FieldName == "OutstandingSpend" || item.FieldName == "SpendTillDate"

                      //Disputes & Remedies Fields
                        || item.FieldName == "GoverningLaw" || item.FieldName == "DurationforRemedy" || item.FieldName == "RemediesorDamages"
                        || item.FieldName == "ActiveDispute" || item.FieldName == "DisputeorRemedyNotes" || item.FieldName == "ArbirtrationNotes"
                    
                    ////System Fields
                    //    item.FieldName == "Project" || item.FieldName == "Description" || item.FieldName == "ContractNumber"
                    //    || item.FieldName == "Counterparty" || item.FieldName == "CompanyProfile" || item.FieldName == "OriginatingParty"
                    //    || item.FieldName == "StartDate" || item.FieldName == "RenewalDate"
                    //    || item.FieldName == "EndDate" || item.FieldName == "Status" || item.FieldName == "ContractManagers"
                    //    || item.FieldName == "Signees" || item.FieldName == "ExternalSignees" || item.FieldName == "ContractValue"
                    //    || item.FieldName == "ContractTermType" || item.FieldName == "ApprovedBy" || item.FieldName == "ReviewedBy"
                    //    || item.FieldName == "RelatedContracts" || item.FieldName == "RelatedRequests" || item.FieldName == "CustomPermission"
                    ////Standard Fields
                    //    || item.FieldName == "GoverningLaw" || item.FieldName == "LicenceType" || item.FieldName == "NumberofLicenses"
                    //    || item.FieldName == "BillingAmount" || item.FieldName == "BillingFrequency" || item.FieldName == "PaymentType"
                    //    || item.FieldName == "EventTitle" || item.FieldName == "EventLocation" || item.FieldName == "EventDate"
                    //    || item.FieldName == "DeliveryLocation" || item.FieldName == "DeliveryDate" || item.FieldName == "ContractPricingType"
                    //    || item.FieldName == "PlaceofPerformance" || item.FieldName == "DateofPerformance" || item.FieldName == "SummaryofServices"
                    //    || item.FieldName == "DocumentPhyicalLocation"
                    )
                {

                }
                else
                {
                    do
                    {
                        item.FieldName = item.FieldName.Replace("&amp;", "&");
                    } while (item.FieldName.IndexOf("&amp;") > -1);
                    do
                    {
                        item.FieldDisplayName = item.FieldDisplayName.Replace("&amp;", "&");
                    } while (item.FieldDisplayName.IndexOf("&amp;") > -1);
                    <tr id="row" style="border-bottom: 1px dotted #eeeaea; background-color: #D9D9D9; ">
                        <td id="ContractFieldId" style="display:none;">@Html.DisplayFor(modelItem => item.RowKey)</td>
                        <td id="FieldDisplayName" style="display:none;">@Html.DisplayFor(modelItem => item.FieldDisplayName)</td>
                        <td id="FieldType" style="display:none;">@Html.DisplayFor(modelItem => item.FieldType)</td>
                        <td id="CustomFieldsGroupName" style="display:none;">@Html.DisplayFor(modelItem => item.CustomFieldsGroupName)</td>
                        <td>
                            <span style="padding: 5px 5px 5px 5px;display: block;" title="@Html.DisplayFor(modelItem => item.Description)"> @Html.DisplayFor(modelItem => item.FieldDisplayName)</span>
                        </td>
                        <td id="FieldTypeGroup" style="display:none;">Custom</td>
                        <td class="openmenuavail" style="float:right;margin-right: 5px;">
                            <img src="../Content/Images/context_Menu.png" alt="Open Menu" title="Open Menu" />
                        </td>
                    </tr>
                }
            }

        </table>
        @*<span style="font-weight:bold;">Available Fields</span>
            <table class="yui-grid width100" id="customertable">
                @foreach (var item in Model.OrderBy(r => r.FieldDisplayName))
                {
                    <tr id="row" style="border-bottom: 1px dotted #eeeaea; background-color: #D9D9D9; ">
                        <td id="ContractFieldId" style="display:none;">@Html.DisplayFor(modelItem => item.RowKey)</td>
                        <td id="FieldName" style="display:none;">@Html.DisplayFor(modelItem => item.FieldName)</td>
                        <td id="FieldDisplayName" style="display:none;">@Html.DisplayFor(modelItem => item.FieldDisplayName)</td>
                        <td>
                            <span style="margin-left:5px;"> @Html.DisplayFor(modelItem => item.FieldDisplayName)</span>
                        </td>
                        <td class="openmenuavail" style="float:right;">

                            <img src="../Content/Images/context_Menu.png" alt="Open Menu" title="Open Menu" />
                        </td>

                    </tr>
                }

            </table>*@
    </div>
    <div id="dialogOrder" style="display:none;">
        @{
            int counter = 0;
            foreach (var name in ViewBag.GroupNames)
            {
                @Html.Action("ContractsFieldsinGroup", "Settings", new { fieldGroup = @name, index = @counter })
                counter++;
            }
        }
    </div>
    <div id="dialogAddGroup" style="display:none;">
        <div class="modalheader"><span></span></div>
        <div class="modalbody">
            <table cellpadding="2" cellspacing="2" style="width: 70%;">
                <tr>
                    <td class="f_head"></td>
                    <td class="labelright"><input id="txtGroupEntityID" name="GroupEntityID" type="hidden" /></td>
                </tr>
                <tr style="display:none;">
                    <td class="f_head">
                        Order
                    </td>
                    <td class="labelright">
                        @*<select id="ddlGroupOrder" name="GroupOrder" class="selectbox">
                                <option></option>
                            </select>*@
                        <input id="txtGroupOrder" name="GroupEntityID" type="hidden" />
                    </td>
                </tr>
                <tr>
                    <td class="f_head">
                        Field Group <span class="required">*</span>
                    </td>
                    <td class="labelright">
                        <input type="text" id="txtGroupName" maxlength="50" title="Field Group Name" onchange="ReplaceSpecialCharacters(this);" class="f_inpt fullwidth validelement startswithalphabets" />
                    </td>
                </tr>
                <tr>
                    <td class="f_head">Description</td>
                    <td class="labelright">
                        <textarea id="txtGroupDescription" maxlength="300" class="f_inpt fullwidth" style=" height: 80px;"></textarea>
                    </td>
                </tr>
                @*<tr>
                        <td class="f_head">
                            Show in Contract Form
                        </td>
                        <td class="labelright">
                            <input type="checkbox" id="chkShowInContractForm" class="css1-checkbox" />
                        </td>
                    </tr>*@
                @*<tr>
                        <td class="f_head"></td>
                        <td class="labelright">
                            <input id="btnSaveGroup" type="submit" value="Save" class="buttoncss" />
                            <input id="btnCancel" type="submit" value="Cancel" class="buttoncss modalClose" />
                        </td>
                    </tr>*@
            </table>
        </div>
    </div>

    <div id="dialogAddField" style="display:none;">
        <div class="modalheader"><span></span></div>
        <div class="modalbody">
            <table cellpadding="2" cellspacing="2">
                <tr>
                    <td width="30%">
                        <input type="text" id="ContractFieldIdHdn" style="display:none;" />
                    </td>
                    <td width="70%"></td>
                </tr>
                <tr>
                    <td class="f_head">
                        Field Type<span class="required">*</span>
                    </td>
                    <td class="labelright">
                        <select id="ddlFieldType" onchange="changevalues(this);" class="f_inpt fullwidth validelement" disabled="disabled">
                            <option value="0">--Select--</option>
                            <option value="Single Line Text">Single Line Text</option>
                            <option value="Multi Line Text">Multi Line Text</option>
                            <option value="Date">Date</option>
                            <option value="Choice">Choice</option>
                            <option value="User">User</option>
                            <option value="Multi- Choice (Dropdown)">Multi- Choice (Dropdown)</option>
                            <option value="Multi- Choice (Browse)">Multi- Choice (Browse)</option>
                            <option value="File Upload">File Upload</option>
                            <option value="Value / Financials">Value / Financials</option>
                            <option value="Lookup">Lookup</option>
                            <option value="Lookup (Multi Select)">Lookup (Multi Select)</option>
                            <option value="Phone Number">Phone Number</option>
                            <option value="Number">Number</option>
                            <option value="Yes/No">Yes/No</option>
                            <option value="Email">Email</option>                           
                            <option value="Hyperlink">Hyperlink</option>                         
                            <option value="Taxonomy">Office 365 Sharepoint Taxonomy</option>                          
                        </select>
                        <div><label id="lblinformationtext" style="display:none">This field type will not appear in Edit Contract</label></div>
                    </td>
                </tr>
                <tr id="trFinancialfield" style="display:none;">
                    <td></td>
                    <td class="f_list labelright">
                        <input name="chkFinancialfield" class="css1-checkbox" id="chkFinancialfield" type="checkbox">
                        <label class="css1-label" for="chkFinancialfield">Add as a Financial field</label>
                    </td>
                </tr>
                <tr id="trNumberFormatField" style="display:none;">
                    <td class="f_head">
                        Number Format<span class="required">*</span>
                    </td>
                    <td class="labelright">
                        <select id="ddlNumberFormat" class="f_inpt width100" title="Number Format">
                            <option value="Number">Number</option>
                            <option value="Number-D">Decimal</option>
                            <option value="Number-P">Percent</option>
                            <option value="Number-PD">Decimal Percent</option>
                        </select>
                    </td>
                </tr>
                <tr id="trFieldName">
                    <td class="f_head">
                        Field Name
                    </td>
                    <td class="labelright">
                        <input type="text" id="txtFieldName1" class="f_inpt fullwidth" disabled title="Field Name" />
                    </td>
                </tr>
                <tr>
                    <td class="f_head">
                        Field Display Name<span class="required">*</span>
                    </td>
                    <td class="labelright">
                        <input type="text" id="txtFieldDisplayName" maxlength="50" title="Field Display Name" onchange="ReplaceSpecialCharacters(this);" class="f_inpt fullwidth validelement startswithalphabets" />
                        <input type="text" id="txtFieldName" style="display:none" class="f_inpt fullwidth" />
                    </td>
                </tr>

                <tr id="trFieldComment" style="display:none;">
                    <td class="f_head">
                        Display 'Comment Box' For
                    </td>
                    <td class="f_list labelright">
                        <input name="chkYes" class="css1-checkbox" id="chkYes" type="checkbox" onclick="chkYesNoClick()">
                        <label class="css1-label" for="chkYes" style="margin-right:4%;">Yes</label>
                        <input name="chkNo" class="css1-checkbox" id="chkNo" type="checkbox" onclick="chkYesNoClick()">
                        <label class="css1-label" for="chkNo" style="margin-right:58%;">No</label>
                        <input name="chkCommentRequired" class="css1-checkbox" id="chkCommentRequired" type="checkbox">
                        <label class="css1-label" for="chkCommentRequired">Required</label>
                    </td>
                </tr>
                <!---manoj--->
                <!---for hyperlink--->
                <tr class="cldefaulturl">
                    <td class="f_head">
                        Default URL
                        <span class="p-text help"> <img src="../Content/Images/input-help.png" title="Add default URL link, to be auto populated​ ​​​in​ ​hyperlink field​ ​​inside create/edit/closeout contract record form."></span>
                    </td>
                    <td class="labelright">
                        <input type="text" id="txtdefaulturl" maxlength="2083" onchange="ReplaceTagSymbol(this);" title="Default URL" placeholder="http://www." class="f_inpt fullwidth" />
                        @*<input type="text" id="txtFieldName" style="display:none" class="f_inpt fullwidth" />*@
                    </td>
                </tr>
                <!---for hyperlink--->
                <!---manoj--->
                <tr>
                    <td class="f_head">
                        Field Group
                    </td>
                    <td class="labelright">
                        <select id="ddlFieldGroup" class="f_inpt fullwidth">
                            @*<option value="0">--Select--</option>*@
                        </select>
                    </td>
                </tr>
                <tr id="trfieldorder" style="display:none;">
                    <td class="f_head">
                        Order
                    </td>
                    <td class="labelright">
                        <select id="ddlFieldOrder" class="f_inpt fullwidth"></select>
                    </td>
                </tr>
                @*<tr>
                    <td class="f_head">Required</td>
                    <td class="f_list labelright">
                        <input name="chkRequired" class="css1-checkbox" id="chkRequired" type="checkbox">
                        <label class="css1-label" for="chkRequired"></label>
                    </td>
                </tr>
                <tr>
                    <td class="f_head">Show Field In</td>
                    <td class="f_list labelright">
                        <input name="chkShowInCreate" class="css1-checkbox" id="chkShowInCreate" checked type="checkbox">
                        <label class="css1-label" for="chkShowInCreate">Create Form</label>
                        <input name="chkShowInEdit" class="css1-checkbox" id="chkShowInEdit" checked type="checkbox">
                        <label id="lbleditform" class="css1-label" for="chkShowInEdit">Edit Form</label>
                    </td>
                </tr>*@

                <!---manoj--->
                <tr>
                    <td class="f_head">
                        New/Pipeline<span class="p-text help"> <img src="../Content/Images/input-help.png" title="Set up this field as Visible/Hidden/Required for Creating/Editing a Contract Record in Pipeline."></span>
                    </td>
                    <td class="labelright">
                        <select id="ddlnewcontractform" class="f_inpt fullwidth">
                            <option value="Show">Show</option>
                            <option value="Hide">Hide</option>
                            <option value="Required">Required</option>
                        </select>
                    </td>
                </tr>
                <tr>
                    <td class="f_head">
                        Add/Finalize<span class="p-text help"> <img src="../Content/Images/input-help.png" title="Set up this field as Visible/Hidden/Required for Finalizing a Contract Record and Creating/Editing a Finalized Contract."></span>
                    </td>
                    <td class="f_list labelright">
                        <select id="ddlpipelinecontractform" class="f_inpt fullwidth">
                            <option value="Show">Show</option>
                            <option value="Hide">Hide</option>
                            <option value="Required">Required</option>
                        </select>
                    </td>
                </tr>
                <tr>
                    <td class="f_head">
                        Closeout(Edit)<span class="p-text help"> <img src="../Content/Images/input-help.png" title="Set up this field as Visible/Hidden/Required for Contract Closeout."></span>
                    </td>
                    <td class="f_list labelright">
                        <select id="ddlFinalizedcontractform" class="f_inpt fullwidth">
                            <option value="Show">Show</option>
                            <option value="Hide">Hide</option>
                            <option value="Required">Required</option>
                        </select>
                        
                    </td>
                </tr>
                <tr id="trfeatureMetadata">   @*//ENH485  Featured metadata*@
                    <td class="f_head">Featured Metadata<span class="p-text help"><img src="../Content/Images/input-help.png" title="Set up this field as Visible/Hidden in Featured Metadata section."></span></td>
                    <td class="f_list labelright">
                        <input name="chkFeatured" class="css1-checkbox" id="chkFeatured" type="checkbox">
                        <label class="css1-label" for="chkFeatured"></label>
                    </td>
                </tr>
                <!---manoj--->
                <tr id="trDescription">
                    <td class="f_head">Description</td>
                    <td class="labelright">
                        <textarea id="txtDescription" onchange="ReplaceTagSymbol(this);" maxlength="300" class="f_inpt fullwidth" style=" height: 80px;"></textarea>
                    </td>
                </tr>
                <tr>
                    <td class="f_head">Field Help</td>
                    <td class="f_list labelright">
                        <input name="chkHelp" class="css1-checkbox" id="chkHelp" type="checkbox">
                        <label class="css1-label" for="chkHelp"></label>
                    </td>
                </tr>
                <tr>
                    <td class="f_head">Help Text</td>
                    <td class="labelright">
                        <textarea id="txtHelpText" maxlength="300" onchange="ReplaceTagSymbol(this);" class="f_inpt fullwidth" style=" height: 80px;" title="Help Text"></textarea>
                    </td>
                </tr>
                @*<tr id="ddlContracttype">
                    <td class="f_head">Contract Record Type(s)</td>

                    <td class="f_list labelright">
                        <select id="ddlContractTypeList" name="ddlContractTypeList" multiple="multiple" class="f_inpt width90 chosenmulti" data-placeholder="Select Contract Record Type(s)"></select>
                        <label class="css1-label" for="ddlContractTypeList"></label>
                    </td>
                </tr>*@

                <tr style="display:none;">
                    <td class="f_head">Default Field</td>
                    <td>
                        <input type="checkbox" id="chkDefaultField" class="css1-checkbox" />
                    </td>
                </tr>

                <tr id="trchoicesvalues" style="display:none;">
                    <td class="f_head">
                        Choice Values
                    </td>
                    <td class="labelright">
                        <textarea id="txtChoicesValues" class="f_inpt fullwidth" onchange="ReplaceTagSymbol(this);" style=" height: 80px;" placeholder="Type each choice on a separate line" title="Choice Values"></textarea>
                    </td>
                </tr>
                <tr id="trlookupvalues" style="display:none;">
                    <td class="f_head" id="trlookupvaluesid">
                        Lookup
                    </td>
                    <td class="labelright">
                        <select id="ddlLookupType" class="f_inpt width100" title="Lookup Tables"></select>
                        <span class="css1-label" id="txtLookupTable"></span>
                    </td>
                </tr>
                @*<tr id="AllTypeUpdate" style="display:none">
                    <td class="f_head">Update For All Contract Record Types</td>
                    <td class="f_list labelright">
                        <input name="chkAllTypeUpdate" class="css1-checkbox" id="chkAllTypeUpdate" type="checkbox">
                        <label class="css1-label" for="chkAllTypeUpdate"></label>
                    </td>
                </tr>*@
                @*<tr>
                        <td class="f_head"></td>
                        <td class="labelright">
                            <input id="btnSaveField" type="submit" value="Save" class="buttoncss" />
                            <input id="btnCancel" type="submit" value="Cancel" class="buttoncss modalClose" />
                        </td>
                    </tr>*@
            </table>
        </div>        
    </div>
    <!-- Other fields Menu -->
    <ul id="myMenu" class="contextMenu">
        <li class="edit"><a href="#edit">Edit</a></li>
        <li class="remove"><a href="#delete">Remove</a></li>
    </ul>
    <ul id="myPrimaryMenu" class="contextMenu">
        <li class="edit"><a href="#edit">Edit</a></li>
        @*<li class="remove"><a href="#delete">Remove</a></li>*@
    </ul>
    <!-- Available fields Menu -->
    <ul id="availableFieldsMenu" class="contextMenu">
        <li class="template"><a href="#add">Add</a></li>
        @*<li class="delete"><a href="#delete">Delete</a></li>*@
    </ul>

    <!-- Primary Field Menu -->
    <ul id="primaryMenu" class="contextMenu">
        <li class="moveup"><a href="#groupup">Move Up</a></li>
        <li class="movedown"><a href="#groupdown">Move Down</a></li>
        @*<li class="order"><a href="#orderfields">Order</a></li>
            <li class="edit"><a href="#groupedit">Edit</a></li>*@
    </ul>

    <!-- Group Menu -->
    <ul id="groupMenu" class="contextMenu">
        <li class="edit"><a href="#groupedit">Edit</a></li>
        <li class="delete"><a href="#groupdelete">Delete</a></li>
        <li class="moveup"><a href="#groupup">Move Up</a></li>
        <li class="movedown"><a href="#groupdown">Move Down</a></li>

        @*<li class="order"><a href="#orderfields">Order</a></li>
            <li class="edit"><a href="#groupedit">Edit</a></li>
            <li class="delete"><a href="#groupdelete">Delete</a></li>*@
    </ul>
    <ul id="groupMenuNoUp" class="contextMenu">
        <li class="edit"><a href="#groupedit">Edit</a></li>
        <li class="delete"><a href="#groupdelete">Delete</a></li>
        <li class="movedown"><a href="#groupdown">Move Down</a></li>
    </ul>
    <ul id="groupMenuNoUpDown" class="contextMenu">
        <li class="edit"><a href="#groupedit">Edit</a></li>
        <li class="delete"><a href="#groupdelete">Delete</a></li>       
    </ul>
    <ul id="primarygroupMenuNoMove" class="contextMenu">
        <li class="edit"><a href="#groupedit">Edit</a></li>
    </ul>
    <ul id="groupMenuNoDown" class="contextMenu">
        <li class="edit"><a href="#groupedit">Edit</a></li>
        <li class="delete"><a href="#groupdelete">Delete</a></li>
        <li class="moveup"><a href="#groupup">Move Up</a></li>
    </ul>

</div>

@Scripts.Render("~/Scripts/Contract365/Settings_ContractTypesMetadata.js?" + DateTime.Now.GetHashCode())